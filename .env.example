# ==============================================================================
# Remedi - Environment Variables
# ==============================================================================
# Copy this file to .env and fill in the values.
#   cp .env.example .env
#
# Legend:
#   [REQUIRED]    - Must be set for the app to start
#   [PROD]        - Required in production only
#   [OPTIONAL]    - App works without it; feature is disabled or uses defaults
#   [AUTO]        - Automatically set by the platform (e.g., Vercel)
# ==============================================================================


# ------------------------------------------------------------------------------
# Database (Prisma)
# ------------------------------------------------------------------------------
# [REQUIRED] Prisma connection string.
# SQLite for local dev, PostgreSQL for production.
# Docs: https://www.prisma.io/docs/orm/overview/databases
DATABASE_URL="file:./dev.db"
# DATABASE_URL="postgresql://user:password@localhost:5432/remedi?schema=public"


# ------------------------------------------------------------------------------
# Authentication - Clerk
# ------------------------------------------------------------------------------
# [PROD] Clerk publishable key (exposed to the browser).
# Get yours at https://dashboard.clerk.com -> API Keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxx

# [PROD] Clerk secret key (server-side only).
CLERK_SECRET_KEY=sk_test_xxx

# [PROD] Clerk sign-in / sign-up page paths.
# Must match the catch-all routes under app/sign-in and app/sign-up.
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/

# [OPTIONAL] Clerk webhook signing secret for verifying incoming webhooks.
# Create a webhook endpoint in Clerk Dashboard -> Webhooks.
CLERK_WEBHOOK_SECRET=whsec_xxx

# [OPTIONAL] Legacy auth secret, used as a fallback salt for IP hashing
# in analytics. Also checked in production-readiness reports.
AUTH_SECRET=your-auth-secret-at-least-32-characters


# ------------------------------------------------------------------------------
# Stripe - Subscriptions & Billing
# ------------------------------------------------------------------------------
# [OPTIONAL] Stripe secret key (server-side only).
# Get yours at https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxx

# [OPTIONAL] Stripe publishable key (exposed to the browser).
STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# [OPTIONAL] Stripe webhook signing secret for verifying incoming webhooks.
# Create a webhook endpoint at https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxx

# [OPTIONAL] Stripe Price IDs for subscription plans.
# Run `npm run create-stripe-products` to generate these, or create
# products manually in the Stripe Dashboard -> Products.
STRIPE_BASIC_MONTHLY_PRICE_ID=price_xxx
STRIPE_BASIC_YEARLY_PRICE_ID=price_xxx
STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_xxx
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_xxx


# ------------------------------------------------------------------------------
# OpenAI - AI-Powered Search & Matching
# ------------------------------------------------------------------------------
# [OPTIONAL] OpenAI API key for GPT-4 powered remedy matching and AI search.
# Without this, AI-enhanced features are disabled; standard search still works.
# Get yours at https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxx


# ------------------------------------------------------------------------------
# OpenFDA API
# ------------------------------------------------------------------------------
# [OPTIONAL] OpenFDA API key for higher rate limits (240 req/min vs 40 req/min).
# The app works without it using the public rate limit.
# Get yours at https://open.fda.gov/apis/authentication/
OPENFDA_API_KEY=your-openfda-api-key


# ------------------------------------------------------------------------------
# Upstash Redis - Rate Limiting
# ------------------------------------------------------------------------------
# [OPTIONAL] Upstash Redis REST credentials for distributed rate limiting.
# Without these, rate limiting falls back to in-memory (not suitable for
# multi-instance deployments).
# Get yours at https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=AXxxxx


# ------------------------------------------------------------------------------
# Email - Resend
# ------------------------------------------------------------------------------
# [OPTIONAL] Resend API key for transactional emails (welcome, subscription, etc.).
# Without this, email features are disabled.
# Get yours at https://resend.com/api-keys
RESEND_API_KEY=re_xxx

# [OPTIONAL] Sender email address for outgoing emails.
EMAIL_FROM="Remedi <noreply@remedi.com>"

# [OPTIONAL] SMTP connection string (checked in production-readiness reports).
# EMAIL_SERVER=smtp://user:pass@smtp.example.com:587


# ------------------------------------------------------------------------------
# Sentry - Error Tracking & Performance Monitoring
# ------------------------------------------------------------------------------
# [OPTIONAL] Sentry DSN for error tracking. Enables Sentry integration when set.
# Get yours at https://sentry.io -> Project Settings -> Client Keys (DSN)
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# [OPTIONAL] Sentry release identifier. Used for source map association.
NEXT_PUBLIC_SENTRY_RELEASE=remedi@0.1.0

# [OPTIONAL] Sentry organization slug (for source map uploads in CI).
SENTRY_ORG=your-sentry-org

# [OPTIONAL] Sentry project slug.
SENTRY_PROJECT=remedi

# [OPTIONAL] Sentry auth token for uploading source maps.
# Create one at https://sentry.io -> Settings -> Auth Tokens
SENTRY_AUTH_TOKEN=sntrys_xxx

# [OPTIONAL] Cache TTL in seconds for the /api/admin/sentry-stats endpoint.
# SENTRY_STATS_TTL=60


# ------------------------------------------------------------------------------
# Analytics
# ------------------------------------------------------------------------------
# [OPTIONAL] Google Analytics measurement ID.
# Get yours at https://analytics.google.com -> Admin -> Data Streams
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# [OPTIONAL] Plausible Analytics domain (privacy-friendly alternative to GA).
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN=remedi.com

# [OPTIONAL] Salt for hashing IP addresses in analytics events.
# Falls back to AUTH_SECRET if not set.
# ANALYTICS_IP_SALT=your-random-salt-string


# ------------------------------------------------------------------------------
# Application URLs
# ------------------------------------------------------------------------------
# [PROD] Primary application URL. Used for CORS, redirects, and billing return URLs.
NEXT_PUBLIC_APP_URL=http://localhost:3000

# [OPTIONAL] Base URL for metadata, SEO, sitemaps, structured data, and emails.
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# [OPTIONAL] Legacy NextAuth URL. Referenced in production-readiness checks.
# NEXTAUTH_URL=http://localhost:3000

# [AUTO] Automatically set by Vercel. Used as a fallback for email URLs.
# VERCEL_URL=your-app.vercel.app


# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# [OPTIONAL] Minimum log level. Options: debug, info, warn, error.
# Defaults: production=info, development=debug, test=warn.
# LOG_LEVEL=debug

# [OPTIONAL] External logging service URL (e.g., Logtail, Datadog, LogDNA).
# LOG_SERVICE_URL=https://in.logs.example.com

# [OPTIONAL] API key for the external logging service.
# LOG_SERVICE_API_KEY=your-logging-api-key


# ------------------------------------------------------------------------------
# Operational / Build Flags
# ------------------------------------------------------------------------------
# [OPTIONAL] Set to "true" to skip environment variable validation at startup.
# Useful for build-time on Vercel where runtime env vars are not yet available.
# SKIP_ENV_VALIDATION=true

# [OPTIONAL] Set to "true" to enable maintenance mode (blocks all traffic
# except /api/health, /maintenance, and static assets).
# MAINTENANCE_MODE=false

# [OPTIONAL] Set to "true" to enable @next/bundle-analyzer output.
# ANALYZE=false


# ------------------------------------------------------------------------------
# Testing & Development (do not set in production)
# ------------------------------------------------------------------------------
# [OPTIONAL] Override the base URL used by Playwright E2E tests.
# PLAYWRIGHT_TEST_BASE_URL=http://127.0.0.1:3001

# [OPTIONAL] Custom URL for the HTTP health-check script.
# HEALTHCHECK_URL=http://localhost:3000/api/health
